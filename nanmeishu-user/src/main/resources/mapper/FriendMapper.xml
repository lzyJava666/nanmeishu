<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.nanmeishu.user.mapper.FriendMapper">
   <select id="listUserByPhoneOrName" resultType="com.nanmeishu.user.entity.User">
       select
        a.*
       from uu_user a
       where
        (a.username like '%${content}%' or a.phone =#{content})
        and a.user_id &lt;&gt;#{userId}
        and a.user_id
        not in (
        select user_id
        from uu_friend
        where my_user_id=#{userId}
       )
   </select>
</mapper>